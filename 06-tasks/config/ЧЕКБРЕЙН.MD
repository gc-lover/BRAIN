# ЧЕКБРЕЙН: Проверка готовности документов .BRAIN

**api-readiness:** not-applicable  
**api-readiness-check-date:** 2025-11-03 00:04  
**api-readiness-notes:** Служебный конфигурационный файл, чеклист для агента проверки готовности документов, не предназначен для создания API

**Этот файл - чеклист для агента проверки готовности документов к созданию API задач.**

Прикрепи этот файл агенту для запуска проверки документов в .BRAIN.

---

## Когда использовать этот чеклист

### Сценарий 1: Проверка всех документов
Прикрепи только этот файл (ЧЕКБРЕЙН.MD) - агент проверит все документы в .BRAIN

**Пример команды:**
```
Проверь документы в .BRAIN по инструкциям из ЧЕКБРЕЙН.MD
```

### Сценарий 2: Проверка конкретного файла
Прикрепи ЧЕКБРЕЙН.MD + конкретный файл - агент проверит только этот файл

**Пример команды:**
```
Проверь этот файл по инструкциям из ЧЕКБРЕЙН.MD
```

### Сценарий 3: Проверка директории
Прикрепи ЧЕКБРЕЙН.MD + ссылку на директорию - агент проверит все файлы в директории

**Пример команды:**
```
Проверь все файлы в директории @02-gameplay по инструкциям из ЧЕКБРЕЙН.MD
```

---

## Что нужно сделать агенту

### Шаг 1: Прочитать правила и инструкции

**Обязательные файлы:**
1. **Правила:** `.BRAIN/.cursor/rules/brain-readiness-checker-rules.mdc`
   - Описание роли агента
   - Критерии готовности документов
   - Процесс проверки
   - Обязательный коммит после проверки

2. **Подробная инструкция:** `.BRAIN/06-tasks/config/readiness-check-guide.md`
   - Детальное описание процесса проверки
   - Все критерии готовности
   - Примеры готовых и неготовых документов
   - Чеклист проверки

3. **Трекер готовности:** `.BRAIN/06-tasks/config/readiness-tracker.yaml`
   - Централизованный трекер статусов документов
   - История проверок
   - Записи о всех проверенных документах

**Дополнительная информация (для справки):**
- `.BRAIN/06-tasks/active/CURRENT-WORK/README.md` - индекс текущей работы
- `.BRAIN/06-tasks/active/CURRENT-WORK/current-status.md` - краткий статус завершенных фич
- `.BRAIN/06-tasks/active/CURRENT-WORK/open-questions.md` - открытые вопросы для проработки
- `.BRAIN/06-tasks/active/CURRENT-WORK/active/` - активные обсуждения (в процессе)
- `.BRAIN/06-tasks/active/CURRENT-WORK/archive/` - завершенные обсуждения (для контекста)

### Шаг 2: Определить область проверки

**Если прикреплен только ЧЕКБРЕЙН.MD:**
- Проверить **все документы** в `.BRAIN`
- Игнорировать служебные файлы (README.md, ARCHITECTURE.md)
- Игнорировать файлы в `.cursor/`, `scripts/`, `06-tasks/` (кроме config)
- Фокусироваться на: `01-concepts/`, `02-gameplay/`, `03-lore/`, `04-narrative/`, `05-technical/`

**Если прикрепен ЧЕКБРЕЙН.MD + конкретный файл:**
- Проверить **только этот файл** по критериям готовности
- Обновить метаданные этого файла
- Обновить readiness-tracker.yaml для этого файла

**Если прикрепен ЧЕКБРЕЙН.MD + директория:**
- Проверить **все документы** в указанной директории
- Игнорировать README.md в директории (но проверять другие документы)
- Применить критерии готовности ко всем найденным документам

### Шаг 3: Применить критерии готовности

**Критерии готовности (все должны быть проверены):**

1. ✅ **Статус документа:** `approved` или `review` (не `draft` для готовности)
2. ✅ **Полнота информации:** достаточно деталей для создания API спецификации
3. ✅ **Отсутствие блокирующих TODO:** нет критичных TODO, которые блокируют создание API
4. ✅ **Конкретность:** документ содержит конкретные механики/концепции (не слишком общий)
5. ✅ **Структурированность:** документ понятен и логичен
6. ✅ **Версионирование:** документ имеет версию (желательно)
7. ✅ **Документация:** есть описание концепций, примеры (если применимо)

### Шаг 4: Определить статус готовности

**Статусы готовности:**
- `ready` - документ готов к созданию задачи API
- `needs-work` - нужна доработка документа
- `blocked` - заблокирован зависимостями
- `in-review` - проверяется на готовность
- `not-applicable` - документ не предназначен для создания API (концептуальные документы без механик)

### Шаг 5: Обновить метаданные документов

**Для каждого проверенного документа:**
Добавить в начало документа (в секцию метаданных):

```markdown
**api-readiness:** ready | needs-work | blocked | in-review | not-applicable
**api-readiness-check-date:** YYYY-MM-DD HH:MM
**api-readiness-notes:** Заметки о готовности/проблемах (опционально)
```

**ВАЖНО:** Время (`api-readiness-check-date`) должно быть **реальным временем из системы**, НЕ выдуманным!
- Для получения реального времени используй команду:
  - Windows: `powershell -Command "Get-Date -Format 'yyyy-MM-dd HH:mm'"`
  - Linux/Mac: `date '+%Y-%m-%d %H:%M'`

### Шаг 6: Обновить readiness-tracker.yaml

**Для каждого проверенного документа:**
Добавить или обновить запись в `.BRAIN/06-tasks/config/readiness-tracker.yaml`:

```yaml
- path: ".BRAIN/path/to/document.md"
  status: "ready" | "needs-work" | "blocked" | "in-review" | "not-applicable"
  version: "1.0.0"
  checked: "2025-11-02 15:30"
  checker: "AI Agent"
  notes: "Заметки о готовности"
  issues: []
  api_target: "api/v1/path/to/api.yaml" | null
```

**ВАЖНО:** Поле `checked` должно содержать **реальное время из системы**, НЕ выдуманное!
- Используй то же время, что и в `api-readiness-check-date` документа
- Для получения реального времени используй команду:
  - Windows: `powershell -Command "Get-Date -Format 'yyyy-MM-dd HH:mm'"`
  - Linux/Mac: `date '+%Y-%m-%d %H:%M'`

### Шаг 7: ОБЯЗАТЕЛЬНЫЙ КОММИТ

**ВАЖНО:** После проверки документов **ОБЯЗАТЕЛЬНО** сделать коммит всех изменений.

**Что нужно закоммитить:**
- Обновленные метаданные документов (api-readiness, api-readiness-check-date, api-readiness-notes)
- Обновленный readiness-tracker.yaml со всеми проверенными документами

**Как сделать коммит:**
1. Использовать скрипт autocommit из корня репозитория `.BRAIN`:
   - Windows: `.\scripts\autocommit.ps1 [сообщение]`
   - Linux/Mac: `./scripts/autocommit.sh [сообщение]`
2. Если сообщение не указано, скрипт сгенерирует его автоматически
3. Скрипт автоматически сделает commit и push изменений

**Пример сообщения коммита:**
```
chore: проверка готовности документов .BRAIN к созданию API задач

- Проверены документы в .BRAIN
- Обновлены метаданные документов с api-readiness статусами
- Обновлен readiness-tracker.yaml
```

**НЕ ЗАВЕРШАТЬ ПРОВЕРКУ БЕЗ КОММИТА!**

---

## Чеклист проверки

Используй этот чеклист для каждого документа:

### Блок 1: Метаданные
- [ ] Есть статус документа (draft/review/approved)
- [ ] Есть версия документа
- [ ] Есть дата создания/обновления

### Блок 2: Содержание
- [ ] Документ содержит конкретные механики/концепции
- [ ] Есть достаточно деталей для создания API
- [ ] Документ структурирован и понятен

### Блок 3: TODO блоки
- [ ] Нет критичных TODO, блокирующих создание API
- [ ] Все TODO не критичны или можно игнорировать

### Блок 4: Зависимости
- [ ] Нет критичных незавершенных зависимостей
- [ ] Все зависимости завершены (если критичны)

### Блок 5: Оценка готовности
- [ ] Применены все критерии готовности
- [ ] Определен статус готовности
- [ ] Статус обоснован

### Блок 6: Отметка
- [ ] Обновлены метаданные документа
- [ ] Обновлен readiness-tracker.yaml
- [ ] Запись в трекере полная и корректна

### Блок 7: Коммит изменений
- [ ] ОБЯЗАТЕЛЬНО: Сделан коммит всех изменений
- [ ] Использован скрипт autocommit для коммита
- [ ] Закоммичены обновленные метаданные документов
- [ ] Закоммичен обновленный readiness-tracker.yaml
- [ ] Проверка не завершена без коммита изменений

---

## Полезные ссылки

- [Правила проверки](../.cursor/rules/brain-readiness-checker-rules.mdc) - правила для агента-проверяющего
- [Подробная инструкция](./readiness-check-guide.md) - детальное описание процесса проверки
- [Трекер готовности](./readiness-tracker.yaml) - централизованный трекер статусов документов
- [Краткая инструкция для агента](./check-documents-readiness.md) - краткая инструкция для быстрого запуска
- [Текущая работа](../active/CURRENT-WORK/README.md) - индекс текущей работы (структура обсуждений)
- [Статус текущей работы](../active/CURRENT-WORK/current-status.md) - краткий статус завершенных фич
- [Открытые вопросы](../active/CURRENT-WORK/open-questions.md) - открытые вопросы для проработки

---

## Примеры использования

### Пример 1: Проверка всех документов
```
Прикреплен файл: ЧЕКБРЕЙН.MD

Агент должен:
1. Прочитать правила и инструкции
2. Найти все документы в .BRAIN
3. Проверить каждый документ по критериям готовности
4. Обновить метаданные документов
5. Обновить readiness-tracker.yaml
6. ОБЯЗАТЕЛЬНО сделать коммит
```

### Пример 2: Проверка конкретного файла
```
Прикреплены файлы: ЧЕКБРЕЙН.MD + .BRAIN/03-lore/factions/factions-overview.md

Агент должен:
1. Прочитать правила и инструкции
2. Проверить только factions-overview.md
3. Обновить метаданные этого файла
4. Обновить readiness-tracker.yaml для этого файла
5. ОБЯЗАТЕЛЬНО сделать коммит
```

### Пример 3: Проверка директории
```
Прикреплены: ЧЕКБРЕЙН.MD + @.BRAIN/02-gameplay

Агент должен:
1. Прочитать правила и инструкции
2. Найти все документы в .BRAIN/02-gameplay/
3. Проверить каждый документ по критериям готовности
4. Обновить метаданные документов
5. Обновить readiness-tracker.yaml для всех проверенных документов
6. ОБЯЗАТЕЛЬНО сделать коммит
```

---

**ВАЖНО:** Этот файл - чеклист для агента. При его прикреплении агент должен автоматически понимать, что нужно проверить документы по инструкциям из связанных файлов.

