# Боевая система в стиле D&D - Кубики и проверки

**Статус:** archived  
**Приоритет:** high  
**Дата создания:** 2025-11-05  
**Дата завершения:** 2025-11-06  
**Дата архивации:** 2025-11-07 01:59  
**Связанные документы:** 
- `02-gameplay/combat/combat-overview.md`
- `04-narrative/quests/main-quests-outline.md`
- Система квестов готова

---

## Цель

Проработать боевую систему в стиле D&D с использованием кубиков и проверок навыков, интегрировать её в:
1. Квесты - какие проверки будут и где
2. Сюжет игры - глубокое использование кубиков в повествовании
3. Различные игровые механики - интеграция проверок во все системы

---

## Контекст

### Текущая боевая система

В текущей боевой системе (см. `combat-overview.md`):
- MMORPG основа + аркадная стрельба
- Система способностей (VALORANT стиль)
- Система навыков и классов
- Нет упоминаний о D&D механике кубиков/проверок

### Текущая система квестов

В текущей системе квестов (см. `main-quests-outline.md`):
- Базовые квесты с ветвлением
- Нет упоминаний о проверках навыков
- Нет механики кубиков

---

## Вопросы для проработки

### 1. Боевая система в стиле D&D

- [ ] Какой тип кубиков использовать? (d20, d100, комбинация?)
- [ ] Какие характеристики влияют на проверки?
- [ ] Как интегрировать D&D механику с существующей MMORPG+шутер системой?
- [ ] Какие типы проверок нужны? (атака, защита, уклонение, навыки)
- [ ] Как работает система модификаторов? (от имплантов, навыков, окружения)
- [ ] Как интегрировать кубики в реальный бой (шутер)?
- [ ] Нужна ли система инициативы?
- [ ] Как работает система критических попаданий/промахов?

### 2. Интеграция в квесты

- [ ] Какие проверки нужны в диалогах? (убеждение, обман, запугивание, харизма)
- [ ] Какие проверки нужны в исследованиях? (восприятие, анализ, хакерство)
- [ ] Какие проверки нужны в действиях? (взлом, ремонт, крафт, медицина)
- [ ] Какие проверки нужны в социальных взаимодействиях? (репутация, отношения)
- [ ] Как влияют результаты проверок на ветвление квестов?
- [ ] Как отображать проверки в UI?
- [ ] Нужна ли система повторных попыток?
- [ ] Как работает система сложности проверок?

### 3. Интеграция в сюжет

- [ ] Как использовать кубики в ключевых моментах сюжета?
- [ ] Какие проверки влияют на развитие персонажей?
- [ ] Как проверки влияют на отношения с NPC?
- [ ] Как проверки влияют на финалы квестов?
- [ ] Как интегрировать кубики в романтические отношения?
- [ ] Как кубики влияют на репутацию с фракциями?

### 4. Интеграция в игровые механики

- [ ] Как кубики работают в хакерстве?
- [ ] Как кубики работают в крафте?
- [ ] Как кубики работают в торговле?
- [ ] Как кубики работают в социальных механиках?
- [ ] Как кубики работают в экономике?
- [ ] Как кубики работают в прокачке?

---

## План работы

### Этап 1: Проработка базовой механики D&D

1. Определить тип кубиков и систему проверок
2. Определить характеристики и модификаторы
3. Проработать базовые типы проверок
4. Интегрировать с существующей системой классов и навыков

### Этап 2: Интеграция в квесты

1. Определить типы проверок для квестов
2. Проработать проверки в диалогах
3. Проработать проверки в действиях
4. Проработать влияние на ветвление
5. Проработать UI для проверок

### Этап 3: Интеграция в сюжет

1. Определить ключевые моменты сюжета с проверками
2. Проработать влияние на развитие персонажей
3. Проработать влияние на отношения
4. Проработать влияние на финалы

### Этап 4: Интеграция в игровые механики

1. Хакерство
2. Крафт
3. Торговля
4. Социальные механики
5. Экономика
6. Прокачка

---

## Связанные системы

- **Классы и навыки:** `02-gameplay/progression/classes-overview.md`
- **Боевая система:** `02-gameplay/combat/combat-overview.md`
- **Квесты:** `04-narrative/quests/main-quests-outline.md`
- **Социальные механики:** `02-gameplay/social/`
- **Экономика:** `02-gameplay/economy/`

---

## Прогресс работы

### ✅ Завершено (2025-11-05):

1. **Базовое ядро D&D системы:**
   - ✅ Создан документ `combat-dnd-core.md` с базовой механикой
   - ✅ Определены типы кубиков (d20, d100)
   - ✅ Формула проверок и DC
   - ✅ Критические успехи/провалы
   - ✅ Система преимуществ/помех

2. **Расширение ядра системы:**
   - ✅ Добавлены классовые модификаторы для всех 13 классов
   - ✅ Создана таблица соответствий: Атрибут → Навык → Тип проверки
   - ✅ Детализированы групповые проверки (MMORPG контекст)
   - ✅ Система повторных попыток и ограничений

3. **Интеграция в квесты:**
   - ✅ Создан документ `quest-dnd-checks.md` с категориями проверок
   - ✅ Детальные узлы для квеста 1.1 «Первые шаги»
   - ✅ Детальные узлы для квеста 1.2 «Выбор пути»
   - ✅ Детальные узлы для квеста 4.2 «Взлом заслона» (heist)
   - ✅ Создан шаблон для побочных квестов

4. **Интеграция с боем:**
   - ✅ Создан документ `combat-dnd-integration-shooter.md`
   - ✅ Микро-проверки в реальном бою
   - ✅ Влияние имплантов и способностей

5. **Интеграция в механики:**
   - ✅ Создан документ `combat-dnd-mechanics-integration.md`
   - ✅ Хакерство, крафт, торговля, социальные механики

6. **Связывание документов:**
   - ✅ Обновлен `combat-overview.md` с ссылками на D&D систему
   - ✅ Обновлен `quest-system.md` с D&D/MMORPG правилами
   - ✅ Обновлен `main-quests-outline.md` с ссылками на проверки
   - ✅ Создан индекс `quests/main/README.md`

### ✅ Завершено (2025-11-06):

- ✅ Детализация узлов для основных квестов (создан главный сюжет 2090-2093)
- ✅ Балансировка DC и модификаторов (определены диапазоны в combat-dnd-core.md)
- ✅ Интеграция с UI системой (определена в quest-system.md и ui-main-game.md)
- ✅ Все 3 D&D документа обновлены до статуса ready/approved

## История изменений

- 2025-11-05 - Создание задачи на проработку D&D боевой системы
- 2025-11-05 - Завершена базовая проработка системы проверок и интеграция в квесты



