# Брейншторм: Система перков и перерождения

**Статус:** resolved  
**Приоритет:** Высокий  
**Дата создания:** 2025-11-03  
**Связанный документ:** `02-gameplay/progression/classes-overview.md`

---

## Контекст

В `classes-overview.md` и связанных документах проработаны классы, навыки и связь с прокачкой, но остались открытые вопросы:
- **Система перков:** Как работают перки, какие ограничения, как получают перки
- **Перерождения:** Нужны ли перерождения, как они работают, какие дают преимущества

**Требуется:** Принять решения по системе перков и перерождениям для создания API.

**Источники вдохновения:**
- Cyberpunk 2077 (игра) - система перков
- Path of Exile - глубокая система перков
- Diablo - система перков и перерождений
- MMORPG механики - системы перков и перерождений

**Интеграция:**
- `classes-overview.md` - система классов и навыков
- `classes-progression-link.md` - связь классов с прокачкой
- `classes-general-skills.md` - общие навыки
- `classes-abilities.md` - классовые способности

---

## Вопрос 1: Система перков — как работают и ограничения

**Контекст:** Нужно определить, как работает система перков - что такое перки, как их получают, какие ограничения, как они связаны с навыками и классами.

**✅ Решение:** Вариант Г - Полная система перков (дерево + выбор + ограничения + комбинации)

**Детализация системы перков:**

**Структура перков:**
- **Организация:** Перки организованы в дерево навыков (связаны с классами и общими навыками)
  - Классовые деревья: Уникальные ветки перков для каждого класса (Solo, Netrunner, Fixer и т.д.)
  - Общие деревья: Универсальные ветки перков для всех классов (боевые, социальные, экономические)
  - Смешанные деревья: Перки для комбинаций классов/навыков
- **Типы перков:**
  - Активные перки: Способности (требуют активации, кулдаун/ресурсы)
  - Пассивные перки: Бонусы (работают постоянно, автоматически)
  - Условные перки: Триггеры (активируются при определенных условиях)
- **Уровни перков:**
  - Базовый (Tier 1): Простые перки (+5% к характеристике)
  - Промежуточный (Tier 2): Средние перки (+10% к характеристике или новые способности)
  - Продвинутый (Tier 3): Продвинутые перки (+15% к характеристике или сильные способности)
  - Мастерский (Tier 4): Мастерские перки (+20% к характеристике или уникальные способности)

**Получение перков:**
- **Автоматически при прокачке:** Базовые перки получаются автоматически при достижении определенного уровня навыка
- **Выбор перков:** Промежуточные и продвинутые перки - игрок выбирает из доступных при достижении уровня
- **Требования для разблокировки:** Мастерские перки требуют достижения высокого уровня навыка (50+), выполнения заданий
- **Квесты/задания:** Уникальные перки получаются через квесты (сюжетные, фракционные, специальные)
- **Фракционная репутация:** Эксклюзивные перки фракций требуют высокую репутацию (репутация 75+)
- **Интеграция:** `classes-overview.md` (классовые перки), `classes-general-skills.md` (общие перки)

**Ограничения:**
- **Очки перков:** Лимит на количество активных перков (базовый лимит: 10 активных перков, можно увеличить через прокачку/перерождения)
- **Требования навыков:** Нужен определенный уровень навыка для разблокировки перка (Tier 1 → навык 10, Tier 2 → навык 25, Tier 3 → навык 50, Tier 4 → навык 75)
- **Классовые ограничения:** Некоторые перки доступны только определенным классам (классовые уникальные перки)
- **Несовместимость:** Некоторые перки несовместимы друг с другом (конфликтующие перки нельзя использовать одновременно)
- **Дерево перков:** Нужны предшествующие перки для разблокировки (Tier 1 → Tier 2 → Tier 3 → Tier 4)
- **Общие ограничения:** Общие перки имеют меньше ограничений (доступны всем классам)

**Комбинации перков:**
- **Синергии:** Некоторые комбинации перков дают дополнительные бонусы (например, боевые + двигательные перки → мобильный боевой билд)
- **Уникальные комбинации:** Специальные комбинации создают новые эффекты (например, Solo + Netrunner перки → хакер-солдат)
- **Интеграция:** `combat-abilities.md` (перки могут модифицировать способности), `combat-implants-types.md` (перки для имплантов)

**Дополнительные решения:**
1. ✅ Да, перки привязаны к классам (классовые перки) + есть универсальные перки (общие перки для всех классов)
2. ✅ Да, игроки могут перераспределять перки (ресет перков через NPC за деньги, но ограниченно - 1 раз в месяц или за высокую плату)
3. ✅ Да, перки связаны с системой способностей (`combat-abilities.md`) - перки могут модифицировать способности, давать новые способности

**Статус:** Решено

**Варианты:**

**Вариант А: Простая система перков (линейная прокачка)**
- Перки получаются автоматически при прокачке навыков
- Просто реализовать
- Ограниченная глубина и выбор

**Вариант Б: Умеренная система перков (выбор перков при прокачке)**
- Игроки могут выбирать перки при прокачке
- Больше разнообразия и выбора
- Нужна система выбора перков

**Вариант В: Глубокая система перков (дерево перков)**
- Перки организованы в дерево навыков
- Глубокий выбор и стратегия
- Сложнее балансировать
- *Пример:* Path of Exile - дерево перков

**Вариант Г: Полная система перков (дерево + выбор + ограничения + комбинации)**
- **Структура перков:**
  - Перки организованы в дерево навыков (связаны с классами и общими навыками)
  - Разные типы перков: активные (способности), пассивные (бонусы), условные (триггеры)
  - Уровни перков: базовый → промежуточный → продвинутый → мастерский
  
- **Получение перков:**
  - Автоматически при прокачке навыков (базовые перки)
  - Выбор перков при достижении уровня навыка (промежуточные и продвинутые)
  - Требования для разблокировки (мастерские перки требуют достижения определенного уровня)
  - Квесты/задания (уникальные перки через квесты)
  - Фракционная репутация (эксклюзивные перки фракций)
  
- **Ограничения:**
  - Очки перков (лимит на количество активных перков)
  - Требования навыков (нужен определенный уровень навыка для разблокировки)
  - Классовые ограничения (некоторые перки доступны только определенным классам)
  - Несовместимость (некоторые перки несовместимы друг с другом)
  - Дерево перков (нужны предшествующие перки для разблокировки)
  
- **Комбинации перков:**
  - Некоторые комбинации перков дают дополнительные бонусы (синергии)
  - Уникальные комбинации создают новые эффекты
  - Интеграция с `combat-abilities.md` (перки могут модифицировать способности)
  
- **Интеграция:**
  - `classes-overview.md` - классовые перки
  - `classes-general-skills.md` - общие перки для всех классов
  - `combat-abilities.md` - перки для способностей
  - `combat-implants-types.md` - перки для имплантов

**Рекомендация:** Вариант Г (полная система) - максимум глубины и разнообразия

**Дополнительные вопросы:**
1. Должны ли перки быть привязаны к классам или есть универсальные перки?
2. Могут ли игроки перераспределять перки (ресет перков)?
3. Как перки связаны с системой способностей (`combat-abilities.md`)?

---

## Вопрос 2: Перерождения — нужны ли и как работают

**Контекст:** Нужно определить, нужна ли система перерождений, как она работает, какие дает преимущества и как влияет на прогрессию.

**✅ Решение:** Вариант Г - Полная система перерождений (перерождения + трансформация + выбор + ограничения)

**Детализация системы перерождений:**

**Механика перерождений:**
- **Триггер перерождения:** Игроки могут переродиться при достижении максимального уровня (уровень 50) или определенного уровня прогрессии
- **Процесс перерождения:**
  - Перерождение = сброс уровня/навыков + получение бонусов за предыдущую жизнь
  - Сохранение прогресса: Фракции, репутация, лут, экипировка, импланты (сохраняется)
  - Сброс: Уровень персонажа (сброс до 1), навыки (сброс всех навыков), очки перков (сброс всех перков)
  - Бонусы: Постоянные бонусы за каждое перерождение (+1 к базовым характеристикам, +1 очко перков, доступ к новым перкам)
- **Многократные перерождения:** Можно перерождаться многократно (накопление бонусов от каждого перерождения)
- **Уникальные бонусы:** Каждое перерождение дает уникальные бонусы (статы, перки, доступ к контенту)

**Типы перерождений:**
- **Полное перерождение:**
  - Сброс всех навыков и уровня, сохранение прогресса (фракции, репутация, лут, экипировка, импланты)
  - Бонусы: +1 к базовым характеристикам, +1 очко перков, доступ к новым перкам
  - Требования: Уровень 50, выполнение задания перерождения
  - Стоимость: Бесплатно (за выполнение задания) или 50000 ед валюты
- **Частичное перерождение:**
  - Сброс только определенных навыков (выбор игрока), сохранение остальных
  - Бонусы: +0.5 к базовым характеристикам, возможность изменить перки выбранных навыков
  - Требования: Уровень 25, выполнение задания
  - Стоимость: 25000 ед валюты
- **Трансформация:**
  - Изменение класса/подкласса при перерождении (изменение базового класса)
  - Бонусы: Сохранение части навыков старого класса (20%), доступ к новому классу
  - Требования: Уровень 50, выполнение специального задания трансформации
  - Стоимость: 100000 ед валюты
- **Легендарное перерождение:**
  - Особое перерождение с уникальными бонусами (уникальные перки, эксклюзивный контент)
  - Бонусы: +2 к базовым характеристикам, +2 очка перков, уникальные перки, эксклюзивный контент
  - Требования: Уровень 50, выполнение легендарного задания, специальные условия
  - Стоимость: 200000 ед валюты или особые ресурсы

**Преимущества перерождений:**
- **Бонусы к статам:** Постоянные бонусы за каждое перерождение (+1 к базовым характеристикам за перерождение, накапливаются)
- **Уникальные перки:** Эксклюзивные перки для перерожденных (разблокируются после 1-го, 3-го, 5-го перерождения)
- **Доступ к контенту:** Новый контент для перерожденных (специальные зоны, квесты, фракции)
- **Престиж:** Визуальные индикаторы перерождений (титулы, визуальные эффекты, индикатор количества перерождений)
- **Накопление бонусов:** Больше перерождений = больше бонусов (линейное или экспоненциальное накопление)
- **Интеграция с лигами:** Перерожденные игроки имеют преимущества в лигах (`economy-world-impact.md`)

**Ограничения:**
- **Требования для перерождения:** Достижение уровня (50 для полного, 25 для частичного), выполнение заданий
- **Лимит на количество:** Нет лимита на количество перерождений (можно перерождаться многократно)
- **Стоимость перерождения:** Деньги (50000-200000 ед валюты в зависимости от типа), ресурсы (для легендарного)
- **Время:** Перерождение занимает время (1-24 часа в зависимости от типа)
- **Риски:** Потеря части прогресса (сброс уровня/навыков), риск перманентных штрафов (при ошибках в процессе)

**Интеграция:**
- **`classes-overview.md`:** Перерождение классов (трансформация классов)
- **`combat-abilities.md`:** Перерождение способностей (изменение способностей при перерождении)
- **`economy-world-impact.md`:** Влияние перерождений на экономику (перерожденные игроки имеют преимущества в торговле, фракциях)
- **`economy-trading.md`:** Экономика перерождений (стоимость, рынок услуг перерождения)

**Дополнительные решения:**
1. ✅ Да, перерождения должны быть опциональными (игроки могут продолжать прокачку без сброса уровня, но получают меньше бонусов)
2. ✅ Да, игроки могут отказаться от перерождения и продолжать прокачку без сброса (но не получают бонусы от перерождений)
3. ✅ Да, перерождения связаны с системой лиг (`economy-world-impact.md`) - перерожденные игроки имеют преимущества в поздних стадиях лиги

**Статус:** Решено

**Варианты:**

**Вариант А: Нет перерождений (только одна жизнь)**
- Игроки живут один раз, нет перерождений
- Просто реализовать
- Нет долгосрочной прогрессии
- *Пример:* Классическая MMORPG

**Вариант Б: Простые перерождения (перезапуск с бонусом)**
- Игроки могут переродиться, сбросить уровень, но получить бонус
- Добавляет долгосрочную прогрессию
- *Пример:* Diablo - перерождения с бонусами

**Вариант В: Глубокие перерождения (множественные перерождения с накоплением)**
- Можно перерождаться много раз, каждый раз получая новые бонусы
- Глубокая долгосрочная прогрессия
- Может создать дисбаланс между новичками и ветеранами

**Вариант Г: Полная система перерождений (перерождения + трансформация + выбор + ограничения)**
- **Механика перерождений:**
  - Игроки могут переродиться при достижении максимального уровня (или определенного уровня)
  - Перерождение = сброс уровня/навыков + получение бонусов за предыдущую жизнь
  - Можно перерождаться многократно (накопление бонусов)
  - Каждое перерождение дает уникальные бонусы (статы, перки, доступ к контенту)
  
- **Типы перерождений:**
  - **Полное перерождение:** Сброс всех навыков и уровня, сохранение прогресса (фракции, репутация, лут)
  - **Частичное перерождение:** Сброс только определенных навыков, сохранение остальных
  - **Трансформация:** Изменение класса/подкласса при перерождении
  - **Легендарное перерождение:** Особое перерождение с уникальными бонусами (требует особые условия)
  
- **Преимущества перерождений:**
  - Бонусы к статам (постоянные бонусы за каждое перерождение)
  - Уникальные перки (эксклюзивные перки для перерожденных)
  - Доступ к контенту (новый контент для перерожденных)
  - Престиж (визуальные индикаторы перерождений)
  - Накопление бонусов (больше перерождений = больше бонусов)
  
- **Ограничения:**
  - Требования для перерождения (достижение уровня, выполнение заданий)
  - Лимит на количество перерождений (или нет лимита)
  - Стоимость перерождения (ресурсы, время)
  - Риски перерождения (потеря части прогресса, риск перманентных штрафов)
  
- **Интеграция:**
  - `classes-overview.md` - перерождение классов
  - `combat-abilities.md` - перерождение способностей
  - `economy-world-impact.md` - влияние перерождений на экономику

**Рекомендация:** Вариант Г (полная система) - максимум долгосрочной прогрессии и разнообразия

**Дополнительные вопросы:**
1. Должны ли перерождения быть обязательными или опциональными?
2. Могут ли игроки отказаться от перерождения и продолжать прокачку без сброса?
3. Как перерождения связаны с системой лиг (`economy-world-impact.md`)?

---

## Следующие шаги

После получения решений:
1. Создать документы для системы перков и перерождений (если нужно)
2. Обновить `classes-overview.md` с решениями по перкам и перерождениям
3. Интегрировать решения с существующими системами (классы, навыки, способности)
4. Обновить статус документов после детализации

---

## История изменений

- v1.0.0 (2025-11-03) - Создан файл для брейншторма системы перков и перерождений
- v1.1.0 (2025-11-03) - Приняты решения по всем 2 вопросам
  - ✅ Вопрос 1: Система перков - Вариант Г (полная система: дерево + выбор + ограничения + комбинации)
  - ✅ Вопрос 2: Перерождения - Вариант Г (полная система: перерождения + трансформация + выбор + ограничения)

