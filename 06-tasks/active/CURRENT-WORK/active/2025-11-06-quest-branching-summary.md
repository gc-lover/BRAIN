# –°–≤–æ–¥–∫–∞: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤ –≤ MMORPG

**–î–∞—Ç–∞:** 2025-11-06 20:31  
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ  
**–ê–≤—Ç–æ—Ä:** AI Manager

---

## üìä –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

‚úÖ **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:**
- 113+ –∫–≤–µ—Å—Ç–æ–≤ –∏–∑ JSON —Ñ–∞–π–ª–æ–≤
- 7 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ —Å –≤–µ—Ç–≤–ª–µ–Ω–∏—è–º–∏ (39 –∫–æ–Ω—Ü–æ–≤–æ–∫, 20 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–±–æ—Ä–æ–≤)
- –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (`quests`, `quest_progress`)
- –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ JSON-—Å—Ö–µ–º—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- Backend —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Java Entity –∫–ª–∞—Å—Å—ã)

‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–æ, —á—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
1. –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–æ–≤ –∏–≥—Ä–æ–∫–∞
2. –î–∏–∞–ª–æ–≥–æ–≤—ã–µ –¥–µ—Ä–µ–≤—å—è
3. –§–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
4. –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∫–≤–µ—Å—Ç–æ–≤
5. –ú–∏—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (world state)
6. –ò—Å—Ç–æ—Ä–∏—è –≤—ã–±–æ—Ä–æ–≤ (–∞—É–¥–∏—Ç)
7. –í–µ—Ç–≤–∏ –∫–≤–µ—Å—Ç–æ–≤
8. Skill checks
9. NPC —Å–æ—Å—Ç–æ—è–Ω–∏–µ
10. –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

---

### 2. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

‚úÖ **14 —Ç–∞–±–ª–∏—Ü –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è:**

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (Quest Definition):**
1. `quests` (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è) - –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–≤–µ—Å—Ç–∞—Ö
2. `quest_branches` - —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—É—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
3. `dialogue_nodes` - —É–∑–ª—ã –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤
4. `dialogue_choices` - –≤—ã–±–æ—Ä—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö —Å —É—Å–ª–æ–≤–∏—è–º–∏
5. `skill_checks` - –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–≤—ã–∫–æ–≤ (D&D —Å—Ç–∏–ª—å)

**–¢–∞–±–ª–∏—Ü—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–≥—Ä–æ–∫–∞:**
6. `quest_progress` (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è) - –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–µ—Ç–≤–ª–µ–Ω–∏–π
7. `player_quest_choices` - –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –≤—ã–±–æ—Ä–æ–≤ –∏–≥—Ä–æ–∫–∞ (–∞—É–¥–∏—Ç)
8. `player_flags` - —Å–∏—Å—Ç–µ–º–∞ —Ñ–ª–∞–≥–æ–≤ –¥–ª—è —É—Å–ª–æ–≤–∏–π
9. `player_quest_consequences` - –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

**–¢–∞–±–ª–∏—Ü—ã –º–∏—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (MMORPG):**
10. `world_state` - –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞
11. `world_state_history` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–∏—Ä–∞ (–∞—É–¥–∏—Ç)
12. `territory_control` - –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π —Ñ—Ä–∞–∫—Ü–∏—è–º–∏
13. `npc_states` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ NPC (–∂–∏–≤/–º–µ—Ä—Ç–≤/–∏–∑–≥–Ω–∞–Ω –∏ —Ç.–¥.)
14. `quest_consequences` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –∫–≤–µ—Å—Ç–æ–≤

---

### 3. –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

‚úÖ **–ß—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- **–ì–ª—É–±–æ–∫–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ** - 5-7 –ø—É—Ç–µ–π –Ω–∞ –∫–≤–µ—Å—Ç, –∫–∞–∫ –≤ Baldur's Gate 3
- **–î–∏–∞–ª–æ–≥–æ–≤—ã–µ –¥–µ—Ä–µ–≤—å—è** - —Å–ª–æ–∂–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏ skill checks
- **Skill checks** - D&D —Å—Ç–∏–ª—å –ø—Ä–æ–≤–µ—Ä–æ–∫ (d20 + –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã)
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è** - –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –±—É–¥—É—â–∏–µ –∫–≤–µ—Å—Ç—ã –∏ —ç–ø–æ—Ö–∏
- **–ú–∏—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** - —Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–∏—Ä–∞ (MMORPG)
- **–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏** - —Ñ—Ä–∞–∫—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
- **NPC —Å—É–¥—å–±—ã** - NPC –º–æ–≥—É—Ç —É–º–∏—Ä–∞—Ç—å/–∏–∑–≥–æ–Ω—è—Ç—å—Å—è/–º–µ–Ω—è—Ç—å—Å—è
- **–ê—É–¥–∏—Ç** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –≤—ã–±–æ—Ä–æ–≤
- **–ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤** - –≥—Ä—É–ø–ø–æ–≤—ã–µ skill checks –¥–ª—è MMORPG
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç—ã—Å—è—á–∞–º –∫–≤–µ—Å—Ç–æ–≤ –∏ –º–∏–ª–ª–∏–æ–Ω–∞–º –∏–≥—Ä–æ–∫–æ–≤

---

## üìÑ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### 1. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
**–§–∞–π–ª:** `2025-11-06-quest-branching-database-design.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—á—Ç–æ –µ—Å—Ç—å –∏ —á–µ–≥–æ –Ω–µ—Ç)
- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (14 —Ç–∞–±–ª–∏—Ü —Å –ø–æ–ª—è–º–∏)
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (SQL –∑–∞–ø—Ä–æ—Å—ã)
- –ò–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–†–∞–∑–º–µ—Ä:** ~1500 —Å—Ç—Ä–æ–∫ SQL –∏ –æ–ø–∏—Å–∞–Ω–∏–π

---

### 2. ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
**–§–∞–π–ª:** `2025-11-06-quest-branching-er-diagram.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ü–æ–ª–Ω–∞—è ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (Mermaid)
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Å–≤—è–∑–µ–π
- –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–∏–∞–≥—Ä–∞–º–º–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –º–∏—Ä
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–µ–π

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã —Ç–∞–±–ª–∏—Ü

### –ü—Ä–∏–º–µ—Ä 1: `quest_branches` (–í–µ—Ç–≤–∏ –∫–≤–µ—Å—Ç–∞)

```sql
CREATE TABLE quest_branches (
    id SERIAL PRIMARY KEY,
    quest_id VARCHAR(100) NOT NULL,
    branch_id VARCHAR(50) NOT NULL, -- "pathA", "pathB", "pathC"
    branch_name VARCHAR(200) NOT NULL, -- "–ü—É—Ç—å –ü—Ä–∞–≤–¥—ã", "–ü—É—Ç—å –ö–æ—Ä—Ä—É–ø—Ü–∏–∏"
    
    -- –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–µ—Ç–≤–∏
    reputation_changes JSONB, -- {NetWatch: 15, VoodooBoys: -5}
    sets_flags JSONB, -- –§–ª–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç
    unlocks_quests JSONB, -- –ö–≤–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
    world_state_changes JSONB, -- –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–∏—Ä–∞
    
    UNIQUE(quest_id, branch_id)
);
```

### –ü—Ä–∏–º–µ—Ä 2: `dialogue_choices` (–í—ã–±–æ—Ä—ã –≤ –¥–∏–∞–ª–æ–≥–∞—Ö)

```sql
CREATE TABLE dialogue_choices (
    id SERIAL PRIMARY KEY,
    node_id INTEGER NOT NULL,
    choice_text TEXT NOT NULL,
    next_node_id INTEGER, -- –°–ª–µ–¥ —É–∑–µ–ª
    
    -- –£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
    required_class VARCHAR(50),
    required_flags JSONB,
    skill_check_id INTEGER FK, -- –¢—Ä–µ–±—É–µ–º—ã–π skill check
    
    -- –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
    reputation_changes JSONB,
    sets_flags JSONB,
    moral_weight VARCHAR(20) -- "GOOD", "EVIL", "NEUTRAL"
);
```

### –ü—Ä–∏–º–µ—Ä 3: `skill_checks` (–ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–≤—ã–∫–æ–≤)

```sql
CREATE TABLE skill_checks (
    id SERIAL PRIMARY KEY,
    check_name VARCHAR(200) NOT NULL,
    skill VARCHAR(50) NOT NULL, -- "Persuasion", "Hacking"
    attribute VARCHAR(10) NOT NULL, -- "EMP", "INT"
    dc INTEGER NOT NULL, -- Difficulty Class (10-30)
    
    -- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    success_node_id INTEGER FK,
    failure_node_id INTEGER FK,
    critical_success_node_id INTEGER FK,
    critical_failure_node_id INTEGER FK,
    
    -- –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
    success_reputation JSONB,
    crit_success_loot JSONB,
    
    -- –ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤ (MMORPG)
    allows_cooperation BOOLEAN DEFAULT FALSE,
    cooperation_bonus INTEGER -- +2 –∑–∞ –ø–æ–º–æ—â–Ω–∏–∫–∞
);
```

### –ü—Ä–∏–º–µ—Ä 4: `world_state` (–ú–∏—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

```sql
CREATE TABLE world_state (
    id SERIAL PRIMARY KEY,
    server_id VARCHAR(100) NOT NULL,
    state_key VARCHAR(200) NOT NULL, -- "npc_morgana_fate"
    state_value TEXT NOT NULL, -- "hero"
    category VARCHAR(50) NOT NULL, -- "NPC_FATE", "TERRITORY_CONTROL"
    
    set_by_quest_id VARCHAR(100) FK,
    affected_players_count INTEGER DEFAULT 0,
    
    UNIQUE(server_id, state_key)
);
```

---

## üîÑ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: –ö–≤–µ—Å—Ç "–ö–∞–ø–∏—Ç–∞–Ω –ú–æ—Ä–≥–∞–Ω–∞: –ì—Ä–∞–Ω—å"

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–≤–µ—Å—Ç–∞

```sql
-- 1. –°–æ–∑–¥–∞—Ç—å –∫–≤–µ—Å—Ç
INSERT INTO quests (id, name, type, difficulty, has_branches)
VALUES ('NCPD-MORGANA-001', '–ö–∞–ø–∏—Ç–∞–Ω –ú–æ—Ä–≥–∞–Ω–∞: –ì—Ä–∞–Ω—å', 'FACTION', 'EXTREME', true);

-- 2. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–≤–∏
INSERT INTO quest_branches (quest_id, branch_id, branch_name, reputation_changes)
VALUES 
('NCPD-MORGANA-001', 'pathTruth', '–ü—É—Ç—å –ü—Ä–∞–≤–¥—ã', '{"NCPD": 30, "Arasaka": -15}'),
('NCPD-MORGANA-001', 'pathCorruption', '–ü—É—Ç—å –ö–æ—Ä—Ä—É–ø—Ü–∏–∏', '{"NCPD": -20, "Arasaka": 10}');

-- 3. –°–æ–∑–¥–∞—Ç—å –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ —É–∑–ª—ã
INSERT INTO dialogue_nodes (quest_id, node_id, npc_id, dialogue_text)
VALUES 
('NCPD-MORGANA-001', 1, 'npc-morgana', '–ú–æ–π –Ω–∞–ø–∞—Ä–Ω–∏–∫ —É–±–∏—Ç...'),
('NCPD-MORGANA-001', 2, 'npc-morgana', '–£ –º–µ–Ω—è –¥–≤–∞ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º—ã—Ö...');

-- 4. –°–æ–∑–¥–∞—Ç—å –≤—ã–±–æ—Ä—ã
INSERT INTO dialogue_choices (node_id, choice_text, next_node_id, sets_flags)
VALUES
(2, '–î–æ–ª–æ–∂–∏—Ç—å IA', 4, '["morgana_truth_start"]'),
(2, '–°–∫—Ä—ã—Ç—å —É–ª–∏–∫–∏', 3, '["morgana_corrupt_start"]');
```

### –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–º

```sql
-- 1. –ò–≥—Ä–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –∫–≤–µ—Å—Ç
INSERT INTO quest_progress (character_id, quest_id, current_node_id, status)
VALUES ('550e8400-...', 'NCPD-MORGANA-001', 1, 'ACTIVE');

-- 2. –ò–≥—Ä–æ–∫ –¥–µ–ª–∞–µ—Ç –≤—ã–±–æ—Ä
INSERT INTO player_quest_choices (character_id, quest_id, node_id, choice_id, choice_text)
VALUES ('550e8400-...', 'NCPD-MORGANA-001', 2, 'A2', '–î–æ–ª–æ–∂–∏—Ç—å IA');

-- 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥
INSERT INTO player_flags (character_id, flag_name, set_by_quest_id)
VALUES ('550e8400-...', 'morgana_truth_start', 'NCPD-MORGANA-001');

-- 4. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å
UPDATE quest_progress
SET current_node_id = 4, current_branch_id = 'pathTruth', progress = 33
WHERE character_id = '550e8400-...' AND quest_id = 'NCPD-MORGANA-001';

-- 5. –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–∏—Ä
INSERT INTO world_state (server_id, state_key, state_value, category, set_by_quest_id)
VALUES ('server-01', 'npc_morgana_fate', 'hero', 'NPC_FATE', 'NCPD-MORGANA-001');
```

---

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 1. –ü–æ–ª–Ω–æ—Ç–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ –≤–µ—Ç–≤–ª–µ–Ω–∏—è (–¥–∏–∞–ª–æ–≥–∏, –≤—ã–±–æ—Ä—ã, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è)
- ‚úÖ –í–ª–∏—è–Ω–∏–µ –Ω–∞ –º–∏—Ä (world state, territories, NPC fates)
- ‚úÖ –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π (–∏—Å—Ç–æ—Ä–∏—è –≤—ã–±–æ—Ä–æ–≤, –∏—Å—Ç–æ—Ä–∏—è –º–∏—Ä–∞)

### 2. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç—ã—Å—è—á–∞–º –∫–≤–µ—Å—Ç–æ–≤
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∏–ª–ª–∏–æ–Ω–∞–º –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multi-server (MMORPG)
- ‚úÖ –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü

### 3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ JSONB –¥–ª—è –≥–∏–±–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (Redis)
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### 4. –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ JSONB –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö —Ç–∏–ø–æ–≤ skill checks
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π

### 5. MMORPG —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–∏—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ì—Ä—É–ø–ø–æ–≤—ã–µ skill checks
- ‚úÖ –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –í–ª–∏—è–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –º–∏—Ä

---

## ‚ùì –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `open-questions.md`:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î** - –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Å backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
2. **–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —á—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤ Redis
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - world state –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
6. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞
7. **API Endpoints** - –Ω–æ–≤—ã–µ endpoints –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏–π
8. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –º–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—É—Ç–∏
10. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –≥–∞–π–¥—ã –¥–ª—è Content Creators

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
1. [ ] –û–±—Å—É–¥–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
2. [ ] –û—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
3. [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å 1-2 –∫–≤–µ—Å—Ç–∞–º–∏
4. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
5. [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
6. [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
7. [ ] –°–æ–∑–¥–∞—Ç—å API endpoints
8. [ ] –û–±–Ω–æ–≤–∏—Ç—å backend Entity –∫–ª–∞—Å—Å—ã

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
9. [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–≤–µ—Å—Ç–æ–≤
10. [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è Content Creators
11. [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ best practices
12. [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìö –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `2025-11-06-quest-branching-database-design.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (~1500 —Å—Ç—Ä–æ–∫)
2. `2025-11-06-quest-branching-er-diagram.md` - ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –∏ —Å—Ö–µ–º—ã
3. `2025-11-06-quest-branching-summary.md` - —ç—Ç–∞ —Å–≤–æ–¥–∫–∞ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–∑–æ—Ä–∞)

**–û–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `open-questions.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤"
- `current-status.md` - –¥–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞

---

## üéØ –ò—Ç–æ–≥

‚úÖ **–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤ –≤ MMORPG**

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- 14 —Ç–∞–±–ª–∏—Ü —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–µ—Ç–≤–ª–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ skill checks (D&D —Å—Ç–∏–ª—å)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (MMORPG)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –¥–ª—è –±—É–¥—É—â–∏—Ö –∫–≤–µ—Å—Ç–æ–≤
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–æ–≤
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è:**
- –ö–≤–µ—Å—Ç–æ–≤ —É—Ä–æ–≤–Ω—è Baldur's Gate 3 (–≥–ª—É–±–æ–∫–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ)
- MMORPG —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∏–≥—Ä–æ–∫–æ–≤
- –†–µ–∞–ª—å–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –º–∏—Ä
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Å backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

---

**–ö–æ–º–º–∏—Ç —Å–¥–µ–ª–∞–Ω:** ‚úÖ  
**–î–∞—Ç–∞:** 2025-11-06 20:31  
**–°–æ–æ–±—â–µ–Ω–∏–µ:** "docs: –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î –¥–ª—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤ –≤ MMORPG"

