# Система заказов от игроков — детальная версия

**Статус:** draft  \
**Версия:** 0.1.0  \
**Дата создания:** 2025-11-07  \
**Последнее обновление:** 2025-11-07  \
**Приоритет:** высокий

**api-readiness:** needs-work  \
**api-readiness-check-date:** 2025-11-07 20:51  \
**api-readiness-notes:** Детализированы типы заказов, контракты, рейтинги и влияние на экономику/социальные системы. Требуется баланс и UX перед постановкой API задач.

---

## 1. Методика детализации

- **Слои:** тип заказа, процесс, экономика, исполнители, рейтинги, арбитраж.
- **Роли:** заказчик (игрок/клан/фракция), исполнитель (игрок/NPC/команда), брокер (NPC/система), наблюдатель (арбитраж, аудит).
- **Модули:** `social-service` (контракты, репутация, арбитраж), `economy-service` (оплата, налоги, комиссионные), `world-service` (доступность заказов, влияние на мир), `gameplay-service` (миссии, рейды), `npc-service` (NPC-исполнители), `factions-service` (фракционные заказы).
- **Интерфейсы:** доска заказов, панель создания, панель исполнителя, трекер статуса, журналы сделок.

---

## 2. Типы заказов — расширенный каталог

- **Боевые:** зачистка зон, сопровождение, охота за головами, защита караванов.
- **Хакерские:** взлом сетей, кража данных, защита серверов, информационные диверсии.
- **Торговые/логистические:** доставка товаров, обеспечение цепочек, сбор ресурсов, контрабанда.
- **Политические:** переговоры, пропаганда, фракционные задания, саботаж.
- **Исследовательские:** разведка территорий, сбор данных, изучение артефактов.
- **Социальные:** организация мероприятий, PR-кампании, медиаакции, обучение.
- **Творческие:** создание контента, VR-шоу, искусство.
- **Комбинированные:** многоэтапные задания (боевые + хакерские + логистика).

Каждый тип имеет параметры сложности, риска, времени, необходимого уровня репутации/доверия, рекомендуемые уровни исполнителей.

---

## 3. Процесс заказа

1. **Создание:** заказчик формирует задачу (описание, цель, тип, требования).
2. **Параметры:** награды (фиксированная оплата, процент, бонусы), сроки, условия провала, штрафы.
3. **Публикация:** заказ приходит на доску (публично/фракционно/закрыто), в NPC-агентства, к брокерам.
4. **Отбор исполнителей:** заявка исполнителя, проверка репутации, интервью, подтверждение.
5. **Исполнение:** исполнитель выполняет задания, обновляет статус (этапы, проверки).
6. **Доставка результата:** подтверждение выполнения, проверка доказательств (скриншоты, логи, ресурсы).
7. **Расчёт:** оплата, бонусы, изменение рейтингов.
8. **Отзыв:** заказчик и исполнитель оставляют отзывы, вызывая изменения рейтинга.
9. **Арбитраж:** в случае конфликта — модуль `social-service` решает спор.

---

## 4. Контракты и каналы

- **Доска заказов:** публичные задания, фильтры (тип, награда, репутация).
- **NPC-брокеры:** фиксеры, агентства, биржи (`npc-relationships-system-детально.md`).
- **Фракционные каналы:** закрытые задания для членов фракций, «чёрные» доски.
- **Прямые сделки:** заказчик вручную выбирает исполнителя.
- **VR-конференции:** переговоры, заключение контрактов, презентации.

### 4.1 Форматы контрактов

- **Публичные:** любой может принять.
- **С отсбором:** заказчик выбирает из заявок.
- **Закрытые:** только определенные лица.
- **Автоматизированные:** система подбирает исполнителя.
- **Аукционные:** ставки исполнителей (цена/время).

---

## 5. Экономика заказов

- **Оплата:** фиксированная сумма, процент от прибыли, предметы, репутационные бонусы.
- **Депозит:** заказчик может внести предоплату (в escrow), чтобы обезопасить исполнителя.
- **Комиссии:** `economy-service` удерживает комиссионные, налоги фракций.
- **Бонусы:** за скорость, качество, отсутствие повреждений, секретные цели.
- **Штрафы:** за провал, нарушение условий, задержки.
- **Маркетплейсы:** исторические данные о ценах, рекомендации, индексы (в стиле EVE Online).

---

## 6. Рейтинги и репутация

- **Исполнитель:** рейтинг по типам заказов, история, жалобы, успехи.
- **Заказчик:** честность, своевременность оплаты, качество постановки задач.
- **Фракции:** поддерживающие заказы, влияние на дипломатические отношения.
- **UI:** профили, бейджи, отзывы, статистика.
- **Санкции:** чёрные списки, снижение доступа к заказам, штрафы.

---

## 7. Роль NPC

- **Заказчики:** NPC-фракции создают задания (обеспечивают живой мир).
- **Исполнители:** наёмные NPC, наёмники, фиксерские команды.
- **Брокеры:** NPC управляют досками, проверяют условия, выдают предварительные контракты.
- **Арбитраж:** нейтральные NPC-организации решают споры.

---

## 8. Влияние на мир и другие системы

- **Фракции:** заказы меняют влияние, территории, экономику.
- **Города:** заказчики запускают события, фестивали, кризисы.
- **Экономика:** динамика цен, спрос/предложение, логистические маршруты.
- **Социальные связи:** исполнитель → заказчик → фракция, создавая цепочки доверия.
- **Комбат:** PvP контракты, награды за убийство ключевых целей.
- **Контент:** заказы могут генерировать пользовательские сценарии.

---

## 9. UX и инструменты

- **Создание заказа:** пошаговый интерфейс, шаблоны, рекомендации.
- **Отслеживание:** трекер прогресса, ETA, этапы, отчеты.
- **Уведомления:** изменения статуса, новые заявки, предупреждения.
- **Журнал:** история контрактов, фильтры, экспорт.
- **VR-панели:** встреча с исполнителями, презентация проектов.

---

## 10. Арбитраж и безопасность

- **Система жалоб:** заказчик/исполнитель могут подать жалобу.
- **Доказательства:** скриншоты, логи, записи.
- **Решения:** возврат средств, штрафы, понижение рейтинга, бан.
- **Анти-читерство:** интеграция с `security-service`.

---

## 11. Использование документа

- Применять при разработке API/contracts для системы заказов.
- Связывать с `npc-hiring-system-детально.md`, `relationships-system-детально.md`, `visual-style-locations-детально.md` (места размещения досок), `economy-service` и `social-service`.
- Подготовить UX макеты (доска заказов, панель создания, трекер).
- Балансировать цены, санкции, рейтинги по типам заказов.


