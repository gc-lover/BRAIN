# Система найма NPC

**api-readiness:** review  
**api-readiness-check-date:** 2025-11-03  
**api-readiness-notes:** Документ детальный, содержит конкретные механики для API. TODO блоки только по балансировке (не блокируют создание API). Требуется проверка готовности.

**Статус:** review - проверка готовности к созданию API задач  
**Приоритет:** Высокий  
**Дата создания:** 2025-11-03

---

## Концепция системы найма NPC

### Важность системы найма NPC

**Почему важна:**
- Игроки могут делегировать задачи NPC
- NPC становятся частью экономики и игрового процесса
- Создает глубокие связи между игроками и NPC
- Позволяет игрокам строить бизнес и организации
- NPC могут работать автономно или под управлением игрока

**Источники вдохновения:**
- **KENSHI** - найм NPC для различных задач, автономная работа
- **X4 Foundations** - управление NPC, делегирование задач
- **EVE Online** - найм NPC для различных услуг
- **Cyberpunk 2077** - различные NPC, которые могут быть наняты

---

## Типы найма NPC

### 1. Торговец (Merchant NPC)

**Концепция:** Игрок нанимает NPC для торговли товарами и ресурсами

**Роли торговца:**
- **Продажа товаров** - NPC продает товары игрока другим игрокам или NPC
- **Покупка товаров** - NPC покупает товары для игрока
- **Управление магазином** - NPC управляет магазином игрока
- **Торговые операции** - NPC выполняет торговые операции от имени игрока

**Требования для найма:**
- Достаточная репутация с NPC (минимум +30)
- Наличие торговых навыков у NPC
- Наличие места для торговли (магазин, лавка, киоск)
- Начальный капитал для торговли

**Особенности:**
- NPC может работать автономно или под управлением игрока
- Эффективность торговли зависит от навыков NPC
- Отношения с NPC влияют на эффективность работы
- Игрок получает прибыль от торговли NPC

**TODO:** Балансировка найма торговца будет сделана позже:
- Стоимость найма торговца
- Эффективность торговли NPC
- Влияние навыков NPC на торговлю
- Влияние отношений на эффективность
- Размер прибыли для игрока

### 2. Квестодатель (Quest Giver NPC)

**Концепция:** Игрок нанимает NPC для предоставления заданий другим игрокам

**Роли квестодателя:**
- **Предоставление квестов** - NPC предоставляет квесты другим игрокам
- **Сбор заданий** - NPC собирает задания для игрока
- **Управление квестами** - NPC управляет системой квестов игрока
- **Оценка выполнения** - NPC оценивает выполнение квестов другими игроками

**Требования для найма:**
- Достаточная репутация с NPC (минимум +40)
- Наличие социальных навыков у NPC
- Наличие ресурсов для создания квестов
- Доступ к системе квестов

**Особенности:**
- NPC может создавать собственные квесты или использовать квесты игрока
- Качество квестов зависит от навыков NPC
- Игрок получает часть награды за выполнение квестов
- NPC может быть специалистом в определенных типах квестов

**TODO:** Балансировка найма квестодателя будет сделана позже:
- Стоимость найма квестодателя
- Эффективность создания квестов NPC
- Влияние навыков NPC на качество квестов
- Размер вознаграждения для игрока

### 3. Фиксер (Fixer NPC)

**Концепция:** Игрок нанимает NPC для организации заказов и контрактов

**Роли фиксера:**
- **Организация заказов** - NPC организует заказы для других игроков
- **Поиск контрактов** - NPC ищет контракты для игрока
- **Управление сетью** - NPC управляет сетью контактов игрока
- **Посредничество** - NPC выступает посредником в сделках

**Требования для найма:**
- Достаточная репутация с NPC (минимум +50)
- Наличие навыков фиксера у NPC
- Наличие сети контактов у NPC
- Доступ к системе контрактов

**Особенности:**
- NPC может работать независимо или под управлением игрока
- Эффективность зависит от навыков и сети контактов NPC
- NPC может открывать доступ к эксклюзивным контрактам
- Игрок получает комиссию за организованные контракты

**TODO:** Балансировка найма фиксера будет сделана позже:
- Стоимость найма фиксера
- Эффективность организации контрактов
- Влияние сети контактов на эффективность
- Размер комиссии для игрока

### 4. Телохранитель (Bodyguard NPC)

**Концепция:** Игрок нанимает NPC для защиты от угроз

**Роли телохранителя:**
- **Защита игрока** - NPC защищает игрока от атак
- **Патрулирование** - NPC патрулирует территорию игрока
- **Защита имущества** - NPC защищает имущество игрока
- **Эскорт** - NPC сопровождает игрока в опасных зонах

**Требования для найма:**
- Достаточная репутация с NPC (минимум +20)
- Наличие боевых навыков у NPC
- Наличие экипировки у NPC (опционально, может быть предоставлена игроком)
- Доступ к боевой системе

**Особенности:**
- NPC может быть постоянным или временным телохранителем
- Эффективность защиты зависит от боевых навыков NPC
- NPC может быть специалистом в определенном типе защиты
- Игрок может нанять группу телохранителей

**TODO:** Балансировка найма телохранителя будет сделана позже:
- Стоимость найма телохранителя
- Эффективность защиты NPC
- Влияние боевых навыков на защиту
- Количество телохранителей одновременно

### 5. Наемник (Mercenary NPC)

**Концепция:** Игрок нанимает NPC для боевых операций

**Роли наемника:**
- **Боевые операции** - NPC участвует в боевых операциях
- **Рейды** - NPC участвует в рейдах
- **Защита территорий** - NPC защищает территории игрока
- **Устранение целей** - NPC устраняет назначенные цели

**Требования для найма:**
- Достаточная репутация с NPC (минимум +10, зависит от фракции)
- Наличие боевых навыков у NPC
- Наличие экипировки у NPC (опционально)
- Доступ к боевой системе

**Особенности:**
- NPC может быть нанят для одной операции или постоянной работы
- Эффективность зависит от боевых навыков и экипировки NPC
- NPC может быть специалистом в определенном типе боевых операций
- Игрок может нанять отряд наемников

**TODO:** Балансировка найма наемника будет сделана позже:
- Стоимость найма наемника
- Эффективность боевых операций NPC
- Влияние навыков и экипировки на эффективность
- Размер отряда наемников

### 6. Дипломат (Diplomat NPC)

**Концепция:** Игрок нанимает NPC для переговоров и дипломатии

**Роли дипломата:**
- **Переговоры** - NPC ведет переговоры от имени игрока
- **Дипломатия** - NPC улучшает отношения с фракциями
- **Разрешение конфликтов** - NPC разрешает конфликты между игроком и другими сторонами
- **Заключение договоров** - NPC заключает договоры от имени игрока

**Требования для найма:**
- Достаточная репутация с NPC (минимум +60)
- Наличие дипломатических навыков у NPC
- Наличие репутации у NPC с другими фракциями
- Доступ к системе дипломатии

**Особенности:**
- NPC может работать независимо или под управлением игрока
- Эффективность зависит от дипломатических навыков и репутации NPC
- NPC может открывать доступ к эксклюзивным дипломатическим возможностям
- Игрок получает выгоду от успешных переговоров

**TODO:** Балансировка найма дипломата будет сделана позже:
- Стоимость найма дипломата
- Эффективность дипломатических операций
- Влияние репутации NPC на эффективность
- Выгода для игрока от переговоров

### 7. Другие роли (Other Roles)

**Дополнительные роли для найма:**
- **Инженер** - наем NPC для создания и ремонта предметов
- **Хакер** - наем NPC для хакерских операций
- **Информатор** - наем NPC для сбора информации
- **Водитель** - наем NPC для транспортировки
- **Медик** - наем NPC для лечения и поддержки

**TODO:** Детальная проработка дополнительных ролей будет позже.

---

## Процесс найма NPC

### 2. Этапы найма

#### 2.1. Поиск NPC для найма

**Способы поиска:**
- **Система поиска** - поиск NPC по критериям (навыки, репутация, стоимость)
- **Рекомендации** - NPC могут рекомендовать других NPC для найма
- **Сеть контактов** - использование сети контактов игрока
- **Рынок труда** - просмотр доступных NPC на рынке труда

**Критерии поиска:**
- Навыки NPC (требуемые для роли)
- Репутация игрока с NPC (минимум для найма)
- Стоимость найма (бюджет игрока)
- Доступность NPC (свободен или занят)

#### 2.2. Переговоры о найме

**Процесс переговоров:**
- Игрок предлагает условия найма NPC
- NPC может принять, отклонить или изменить условия
- Влияние отношений на переговоры (лучшие отношения = лучшие условия)
- Возможность торга (снижение стоимости, улучшение условий)

**Условия найма:**
- **Зарплата** - регулярная оплата NPC
- **Бонусы** - дополнительные вознаграждения за успешную работу
- **Длительность** - временный или постоянный найм
- **Задачи** - конкретные задачи, которые должен выполнять NPC
- **Автономность** - степень автономности NPC (полная или под управлением)

**TODO:** Балансировка переговоров о найме будет сделана позже:
- Влияние отношений на условия найма
- Механика торга
- Балансировка стоимости найма
- Влияние навыков игрока (например, Persuasion) на переговоры

#### 2.3. Заключение контракта

**Процесс заключения контракта:**
- Игрок и NPC согласовывают условия найма
- Создается контракт с условиями найма
- Контракт может быть временным или постоянным
- Контракт может быть расторгнут по соглашению или нарушению условий

**Условия контракта:**
- **Обязанности NPC** - что должен делать NPC
- **Обязанности игрока** - что должен делать игрок (оплата, поддержка)
- **Срок контракта** - длительность найма
- **Условия расторжения** - когда и как можно расторгнуть контракт
- **Штрафы** - штрафы за нарушение условий контракта

**TODO:** Балансировка контрактов будет сделана позже:
- Механика создания контрактов
- Условия расторжения контрактов
- Штрафы за нарушение условий
- Защита прав NPC и игрока

#### 2.4. Начало работы

**Процесс начала работы:**
- NPC начинает выполнять назначенные задачи
- Игрок может управлять NPC или позволить работать автономно
- Эффективность работы зависит от навыков NPC и условий найма
- Игрок получает результаты работы NPC

---

## Управление нанятыми NPC

### 3. Управление NPC

#### 3.1. Настройка задач

**Типы управления:**
- **Прямое управление** - игрок напрямую управляет NPC
- **Автономная работа** - NPC работает самостоятельно по заданным параметрам
- **Гибридное управление** - комбинация прямого управления и автономности

**Настройка задач:**
- Игрок задает приоритеты задач для NPC
- Игрок может назначать конкретные задачи
- Игрок может устанавливать параметры автономной работы
- Игрок может изменять задачи в реальном времени

#### 3.2. Мониторинг работы

**Информация о работе NPC:**
- **Статус работы** - текущий статус NPC (работает, отдыхает, занят)
- **Прогресс задач** - прогресс выполнения задач NPC
- **Эффективность** - эффективность работы NPC
- **Проблемы** - проблемы, с которыми сталкивается NPC

**Интерфейс управления:**
- Панель управления нанятыми NPC
- Информация о работе каждого NPC
- Возможность изменения задач и параметров
- История работы NPC

#### 3.3. Взаимодействие с NPC

**Типы взаимодействия:**
- **Общение** - общение с NPC о работе и задачах
- **Обучение** - обучение NPC новым навыкам (если возможно)
- **Поощрения** - поощрение NPC за хорошую работу
- **Критика** - критика NPC за плохую работу

**Влияние взаимодействия:**
- Положительное взаимодействие улучшает отношения и эффективность
- Отрицательное взаимодействие ухудшает отношения и эффективность
- Регулярное взаимодействие создает прочную связь с NPC

---

## Стоимость и вознаграждение

### 4. Экономика найма NPC

#### 4.1. Стоимость найма

**Факторы стоимости:**
- **Навыки NPC** - более высокие навыки = более высокая стоимость
- **Репутация игрока с NPC** - лучшие отношения = более низкая стоимость
- **Тип найма** - постоянный найм дороже временного
- **Автономность** - автономная работа дороже прямого управления
- **Условия работы** - опасная работа дороже безопасной

**Типы оплаты:**
- **Зарплата** - регулярная оплата NPC (ежедневно, еженедельно, ежемесячно)
- **Единоразовая оплата** - разовая оплата за выполнение задачи
- **Процент от прибыли** - NPC получает процент от прибыли игрока
- **Комбинация** - комбинация различных типов оплаты

**TODO:** Балансировка стоимости найма будет сделана позже:
- Базовые значения стоимости найма для каждого типа NPC
- Формула расчета стоимости на основе факторов
- Влияние отношений на стоимость
- Балансировка различных типов оплаты

#### 4.2. Вознаграждение для игрока

**Типы вознаграждения:**
- **Прибыль от работы NPC** - игрок получает прибыль от работы нанятого NPC
- **Комиссия** - игрок получает комиссию за организованные NPC операции
- **Экономия времени** - NPC выполняет задачи, экономя время игрока
- **Доступ к контенту** - NPC открывает доступ к эксклюзивному контенту

**Эффективность вознаграждения:**
- Зависит от эффективности работы NPC
- Зависит от типа найма и условий контракта
- Может быть положительной (прибыль) или отрицательной (убыток)

**TODO:** Балансировка вознаграждения для игрока будет сделана позже:
- Формула расчета прибыли от работы NPC
- Балансировка прибыли и затрат
- Влияние эффективности NPC на вознаграждение
- Балансировка доступа к контенту через NPC

---

## Эффективность нанятых NPC

### 5. Факторы эффективности

#### 5.1. Навыки NPC

**Влияние навыков:**
- Высокий уровень навыков = высокая эффективность работы
- Специализация NPC влияет на эффективность в определенных задачах
- Комбинация навыков создает уникальные возможности

**Развитие навыков:**
- NPC могут развивать навыки через работу
- Игрок может обучать NPC новым навыкам (если возможно)
- Обучение NPC требует времени и ресурсов

#### 5.2. Отношения с NPC

**Влияние отношений:**
- Хорошие отношения = высокая эффективность и лояльность
- Плохие отношения = низкая эффективность и возможное предательство
- Регулярное взаимодействие улучшает отношения

**Уровни отношений:**
- **Враждебность** (-50 и ниже) - NPC может предать или отказаться работать
- **Неприязнь** (-10 до -50) - низкая эффективность, возможные конфликты
- **Нейтралитет** (-10 до +10) - стандартная эффективность
- **Дружба** (+10 до +50) - повышенная эффективность и лояльность
- **Союзники** (+50 и выше) - максимальная эффективность и лояльность

**TODO:** Балансировка влияния отношений на эффективность будет сделана позже:
- Точные проценты изменения эффективности в зависимости от отношений
- Пороги отношений для изменения эффективности
- Механика предательства NPC при плохих отношениях

#### 5.3. Условия работы

**Влияние условий:**
- Хорошие условия работы = высокая эффективность и лояльность
- Плохие условия работы = низкая эффективность и возможное увольнение
- Опасная работа требует дополнительной оплаты

**Типы условий:**
- **Безопасность** - безопасность работы (опасная работа требует больше оплаты)
- **Ресурсы** - наличие необходимых ресурсов для работы
- **Поддержка** - поддержка игрока (обучение, экипировка)
- **Автономность** - степень автономности NPC

**TODO:** Балансировка условий работы будет сделана позже:
- Влияние различных условий на эффективность
- Требования к условиям для разных типов NPC
- Балансировка опасности работы и оплаты

---

## Ограничения и требования

### 6. Ограничения найма

#### 6.1. Количество нанятых NPC

**Ограничения:**
- Игрок может нанять ограниченное количество NPC одновременно
- Ограничение зависит от уровня игрока, репутации, ресурсов
- Различные типы NPC могут иметь разные ограничения

**Увеличение лимита:**
- Повышение уровня игрока
- Улучшение репутации с фракциями
- Приобретение специальных навыков или предметов
- Создание организации или клана

**TODO:** Балансировка ограничений найма будет сделана позже:
- Базовые лимиты для разных типов NPC
- Формула увеличения лимита
- Влияние различных факторов на лимит

#### 6.2. Требования для найма

**Требования:**
- **Репутация** - минимальная репутация с NPC для найма
- **Ресурсы** - наличие ресурсов для оплаты найма
- **Навыки** - определенные навыки игрока (для некоторых типов найма)
- **Доступ** - доступ к определенным системам или контенту

**Особые требования:**
- Некоторые NPC требуют специальных условий для найма
- Некоторые роли требуют специальных навыков игрока
- Некоторые NPC могут быть наняты только членами определенных фракций

**TODO:** Балансировка требований для найма будет сделана позже:
- Список требований для каждого типа NPC
- Влияние требований на доступность найма
- Балансировка специальных требований

---

## Специальные механики

### 7. Продвинутые возможности

#### 7.1. Цепочка найма

**Концепция:** Нанятые NPC могут нанимать других NPC для работы

**Механика:**
- NPC может нанять помощников для выполнения задач
- Игрок получает часть выгоды от цепочки найма
- Цепочка найма требует дополнительных ресурсов
- Управление цепочкой найма сложнее

**TODO:** Детальная проработка цепочки найма будет позже.

#### 7.2. Групповой найм

**Концепция:** Игрок может нанять группу NPC для совместной работы

**Механика:**
- Группа NPC может работать вместе более эффективно
- Групповой найм требует координации и управления
- Различные типы NPC могут дополнять друг друга
- Групповой найм может быть более дорогим

**TODO:** Детальная проработка группового найма будет позже.

#### 7.3. Автоматизация

**Концепция:** Полная автоматизация работы нанятых NPC

**Механика:**
- NPC могут работать полностью автономно
- Игрок может устанавливать долгосрочные цели для NPC
- NPC принимают решения самостоятельно в рамках заданных параметров
- Автоматизация требует более высокой оплаты и лучших условий

**TODO:** Детальная проработка автоматизации будет позже.

---

## Влияние на игровой мир

### 8. Социальное и экономическое влияние

**Влияние на мир:**
- Найм NPC создает экономику найма
- Нанятые NPC становятся частью игрового мира
- Найм NPC влияет на социальные структуры (фракции, кланы)
- Найм NPC создает новые возможности для взаимодействия

**Экономическое влияние:**
- Найм NPC создает рынок труда
- NPC могут быть источником прибыли или убытков
- Найм NPC может создавать конкуренцию между игроками
- Найм NPC влияет на общую экономику игры

**TODO:** Балансировка влияния найма NPC на игровой мир будет сделана позже:
- Влияние на экономику игры
- Влияние на социальные структуры
- Влияние на баланс игры

---

## Решения

### Система найма NPC

**Решение (2025-11-03):** Полная система найма NPC
- **Типы найма:** Торговец, Квестодатель, Фиксер, Телохранитель, Наемник, Дипломат, Другие роли
- **Процесс найма:** Поиск, Переговоры, Заключение контракта, Начало работы
- **Управление:** Настройка задач, Мониторинг работы, Взаимодействие с NPC
- **Экономика:** Стоимость найма, Вознаграждение для игрока
- **Эффективность:** Навыки NPC, Отношения, Условия работы
- **Ограничения:** Количество нанятых NPC, Требования для найма
- **Специальные механики:** Цепочка найма, Групповой найм, Автоматизация

**Сложность системы:**
- Очень сложная система найма NPC
- Множество типов найма и ролей
- Глубокая экономика и управление
- Влияние на игровой мир и социальные структуры

---

## Вопросы для проработки

1. ✅ Как работает система найма NPC? - **Определена полная система: Типы найма, Процесс найма, Управление, Экономика, Эффективность, Ограничения**
2. Как работает экономика найма NPC? (детальная проработка формул)
3. Как работает эффективность нанятых NPC? (детальная проработка)
4. Как работает цепочка найма?
5. Как работает групповой найм?
6. Как работает автоматизация работы NPC?

---

## История изменений

- v1.0.0 (2025-11-03) - Создан документ системы найма NPC
- v1.1.0 (2025-11-03) - Определена полная система найма NPC
  - Типы найма: Торговец, Квестодатель, Фиксер, Телохранитель, Наемник, Дипломат, Другие роли
  - Процесс найма: Поиск, Переговоры, Заключение контракта, Начало работы
  - Управление нанятыми NPC: Настройка задач, Мониторинг работы, Взаимодействие
  - Экономика найма: Стоимость, Вознаграждение
  - Эффективность: Навыки, Отношения, Условия работы
  - Ограничения и требования для найма
  - Специальные механики: Цепочка найма, Групповой найм, Автоматизация

