---
**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-07 06:25  
**api-readiness-notes:** World State Player Impact Mechanics. –ú–µ—Ö–∞–Ω–∏–∫–∞ –≤–ª–∏—è–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –º–∏—Ä, —Ç–∏–ø—ã –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–π. ~420 —Å—Ç—Ä–æ–∫.
---

# Player Impact Mechanics - –ú–µ—Ö–∞–Ω–∏–∫–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –º–∏—Ä

**–°—Ç–∞—Ç—É—Å:** approved  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2025-11-07 06:25  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–ê–≤—Ç–æ—Ä:** AI Brain Manager

**–ú–∏–∫—Ä–æ—Ñ–∏—á–∞:** Player impact mechanics  
**–†–∞–∑–º–µ—Ä:** ~420 —Å—Ç—Ä–æ–∫ ‚úÖ

---


**API Tasks Status:**
- ‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: [API-TASK-173](../../../API-SWAGGER/tasks/active/queue/task-173-*.md)
- üìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏: 2025-11-07
- üîÑ –°—Ç–∞—Ç—É—Å: queued (–æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ê–ü–ò–¢–ê–°–ö –∞–≥–µ–Ω—Ç–æ–º)
- üìù –ö–∞—Ç–µ–≥–æ—Ä–∏—è: WORLD_STATE_SPLIT
- üîó –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –ê–ü–ò–¢–ê–°–ö –∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞—Å—Ç OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é

---

## –¢–∏–ø—ã –≤–ª–∏—è–Ω–∏—è

### 1. Quest Impact (–≤–ª–∏—è–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–≤–µ—Å—Ç—ã)

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
```
Quest Choice ‚Üí World State Change
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –í—ã–±–æ—Ä –≤ –∫–≤–µ—Å—Ç–µ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É–¥—å–±—ã NPC (fate)
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—Ä–∞–∫—Ü–∏–∏ ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–ª—ã —Ñ—Ä–∞–∫—Ü–∏–∏

### 2. Economic Impact (—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ)

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
```
Player Actions ‚Üí Supply/Demand ‚Üí Prices
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ú–∞—Å—Å–æ–≤–∞—è –ø—Ä–æ–¥–∞–∂–∞ ‚Üí –ø–∞–¥–µ–Ω–∏–µ —Ü–µ–Ω—ã
- –ú–∞—Å—Å–æ–≤–∞—è —Å–∫—É–ø–∫–∞ ‚Üí —Ä–æ—Å—Ç —Ü–µ–Ω—ã
- –ö—Ä–∞—Ñ—Ç ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

### 3. Political Impact (–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ)

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
```
Player Votes ‚Üí Election Results
Player Orders ‚Üí Territory Control
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –º—ç—Ä–∞ ‚Üí –∏–∑–±—Ä–∞–Ω–∏–µ
- –ó–∞–∫–∞–∑—ã –Ω–∞ –∑–∞—â–∏—Ç—É ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
- –í–æ–π–Ω–∞ —Ñ—Ä–∞–∫—Ü–∏–π ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü

### 4. Social Impact (—Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ)

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
```
Reputation ‚Üí NPC Behavior
Relationships ‚Üí New Options
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- –í—ã—Å–æ–∫–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è ‚Üí –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è ‚Üí —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ì–∏–ª—å–¥–∏—è ‚Üí –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ

---

## Aggregation (–∞–≥–≥—Ä–µ–≥–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π)

### Vote Counting

```java
public String calculateTerritoryController(String territoryId) {
    Map<String, Long> votes = playerActionRepository
        .countVotesByTerritory(territoryId);
    
    // Majority wins
    return votes.entrySet().stream()
        .max(Map.Entry.comparingByValue())
        .map(Map.Entry::getKey)
        .orElse("independent");
}
```

### Price Calculation

```java
public int calculateItemPrice(String itemId) {
    long supply = marketRepository.countSupply(itemId);
    long demand = marketRepository.countDemand(itemId);
    
    int basePrice = itemTemplateRepository.getBasePrice(itemId);
    
    // Supply/Demand –≤–ª–∏—è–Ω–∏–µ
    double ratio = (double) demand / supply;
    return (int) (basePrice * ratio);
}
```

---

## Thresholds (–ø–æ—Ä–æ–≥–∏ –≤–ª–∏—è–Ω–∏—è)

**–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –≤–ª–∏—è–Ω–∏—è:**
- Quest impact: 1 –∏–≥—Ä–æ–∫ (–ª–∏—á–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ)
- Economic impact: 100+ –∏–≥—Ä–æ–∫–æ–≤ (–∑–Ω–∞—á–∏–º–æ–µ)
- Political impact: 1000+ –∏–≥—Ä–æ–∫–æ–≤ (–º–∏—Ä–æ–≤–æ–µ)
- Territory control: 5000+ –∏–≥—Ä–æ–∫–æ–≤ (–≤–æ–π–Ω–∞)

**–í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
- Instant (quest choices)
- Hourly (economy recalc)
- Daily (territory control)
- Weekly (elections, seasons)

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `.BRAIN/02-gameplay/world/world-state/player-impact-systems.md` - Systems (–º–∏–∫—Ä–æ—Ñ–∏—á–∞ 2/3)
- `.BRAIN/02-gameplay/world/world-state/player-impact-persistence.md` - Persistence (–º–∏–∫—Ä–æ—Ñ–∏—á–∞ 3/3)

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **v1.0.0 (2025-11-07 06:25)** - –ú–∏–∫—Ä–æ—Ñ–∏—á–∞ 1/3 (split from world-state-player-impact.md)

