---
**api-readiness:** ready  
**api-readiness-check-date:** 2025-11-07 06:10  
**api-readiness-notes:** Player Market Core. –§–∏–ª–æ—Å–æ—Ñ–∏—è P2P —Ç–æ—Ä–≥–æ–≤–ª–∏, –º–µ—Ö–∞–Ω–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã. ~400 —Å—Ç—Ä–æ–∫.
---

# Player Market Core - –û—Å–Ω–æ–≤–∞ P2P —Ç–æ—Ä–≥–æ–≤–ª–∏

**–°—Ç–∞—Ç—É—Å:** approved  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-07  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-07 06:10  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π  
**–ê–≤—Ç–æ—Ä:** AI Brain Manager

**–ú–∏–∫—Ä–æ—Ñ–∏—á–∞:** P2P market mechanics  
**–†–∞–∑–º–µ—Ä:** ~400 —Å—Ç—Ä–æ–∫ ‚úÖ

---


**API Tasks Status:**
- ‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: [API-TASK-173](../../../API-SWAGGER/tasks/active/queue/task-173-*.md)
- üìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏: 2025-11-07
- üîÑ –°—Ç–∞—Ç—É—Å: queued (–æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ê–ü–ò–¢–ê–°–ö –∞–≥–µ–Ω—Ç–æ–º)
- üìù –ö–∞—Ç–µ–≥–æ—Ä–∏—è: PLAYER_MARKET_SPLIT
- üîó –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –ê–ü–ò–¢–ê–°–ö –∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞—Å—Ç OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é

---

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

Player Market - P2P —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏ (–Ω–µ –∞—É–∫—Ü–∏–æ–Ω!).

**–û—Ç–ª–∏—á–∏—è –æ—Ç Auction House:**
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ (–Ω–µ —Å—Ç–∞–≤–∫–∏)
- –ë—ã—Å—Ç—Ä–∞—è –∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞
- –õ–∏—á–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —á–µ—Ä–µ–∑ —á–∞—Ç
- –†–µ–ø—É—Ç–∞—Ü–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞
- –ú–µ–Ω—å—à–µ –∫–æ–º–∏—Å—Å–∏—è (1% vs 5%)

---

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è

**EVE Online** - Player Market –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (buy/sell orders)  
**Path of Exile** - Trade board —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏  
**Warframe** - Player-to-player —Ç–æ—Ä–≥–æ–≤–ª—è  
**Lost Ark** - Market board —Å —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

**P2P —Ç–æ—Ä–≥–æ–≤–ª—è:**
- –ò–≥—Ä–æ–∫ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –ø–æ —Ü–µ–Ω–µ
- –î—Ä—É–≥–∏–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–∫—É–ø–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–¥–µ–ª–∫–∞ (instant buy)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ç–æ—Ä–≥ —á–µ—Ä–µ–∑ —á–∞—Ç

**–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:**
- –†–µ–ø—É—Ç–∞—Ü–∏—è –ø—Ä–æ–¥–∞–≤—Ü–∞/–ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
- –õ—é–±–∏–º—ã–µ –ø—Ä–æ–¥–∞–≤—Ü—ã
- Blacklist

---

## –ú–µ—Ö–∞–Ω–∏–∫–∏

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

```typescript
createListing(item, price, quantity) {
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∏
  if (!hasItem(item, quantity)) return error;
  if (price < MIN_PRICE || price > MAX_PRICE) return error;
  
  // 2. Lock item (–Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∫–∞ –≤ –ø—Ä–æ–¥–∞–∂–µ)
  lockItem(item, quantity);
  
  // 3. –°–æ–∑–¥–∞—Ç—å listing
  listing = {
    id: uuid(),
    sellerId: playerId,
    itemId: item.id,
    quantity: quantity,
    pricePerUnit: price,
    totalPrice: price * quantity,
    status: "active",
    expiresAt: now + 7days
  };
  
  save(listing);
  return listing;
}
```

**–õ–∏–º–∏—Ç—ã:**
- Max 20 –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 7 –¥–Ω–µ–π
- Min —Ü–µ–Ω–∞: 1 eurodollar
- Max —Ü–µ–Ω–∞: 999,999,999 eurodollars

---

### 2. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã

```typescript
search(filters) {
  query = buildQuery({
    itemName: filters.search,
    itemType: filters.type,
    quality: filters.quality,
    minPrice: filters.minPrice,
    maxPrice: filters.maxPrice,
    minLevel: filters.minLevel,
    maxLevel: filters.maxLevel,
    sellerId: filters.sellerId,
    city: filters.city
  });
  
  results = executeQuery(query)
    .orderBy(filters.sortBy)
    .paginate(filters.page, 50);
  
  return results;
}
```

**–§–∏–ª—å—Ç—Ä—ã:**
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (—Ç–µ–∫—Å—Ç)
- –¢–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞ (weapon, armor, consumable)
- –ö–∞—á–µ—Å—Ç–≤–æ (common, rare, epic, legendary)
- –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω (min-max)
- –£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥–º–µ—Ç–∞ (min-max)
- –ü—Ä–æ–¥–∞–≤–µ—Ü (–ø–æ ID –∏–ª–∏ username)
- –ì–æ—Ä–æ–¥ (nightCity, tokyo, london)

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
- –ü–æ —Ü–µ–Ω–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ/—É–±—ã–≤–∞–Ω–∏–µ)
- –ü–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ/—Å—Ç–∞—Ä—ã–µ)
- –ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ (views)
- –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É –ø—Ä–æ–¥–∞–≤—Ü–∞

---

### 3. –ü–æ–∫—É–ø–∫–∞

```typescript
buyListing(listingId, quantity) {
  listing = getListing(listingId);
  
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∏
  if (listing.status !== "active") return error;
  if (quantity > listing.quantity) return error;
  if (buyer.eurodollars < listing.totalPrice) return error;
  
  // 2. Transaction (atomic)
  BEGIN_TRANSACTION();
  
    // –î–µ–Ω—å–≥–∏
    buyer.eurodollars -= listing.totalPrice;
    seller.eurodollars += listing.totalPrice * 0.99; // -1% –∫–æ–º–∏—Å—Å–∏—è
    
    // –ü—Ä–µ–¥–º–µ—Ç
    removeFromSeller(listing.itemId, quantity);
    addToBuyer(listing.itemId, quantity);
    
    // Listing
    if (quantity === listing.quantity) {
      listing.status = "sold";
    } else {
      listing.quantity -= quantity;
    }
    
    // Trade history
    createTradeRecord({
      buyerId: buyer.id,
      sellerId: seller.id,
      listingId: listing.id,
      itemId: listing.itemId,
      quantity: quantity,
      price: listing.totalPrice
    });
  
  COMMIT();
  
  // 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  notify(seller, "Your item sold!");
  notify(buyer, "Purchase successful!");
  
  return success;
}
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `.BRAIN/02-gameplay/economy/player-market/player-market-database.md` - Database (–º–∏–∫—Ä–æ—Ñ–∏—á–∞ 2/4)
- `.BRAIN/02-gameplay/economy/player-market/player-market-api.md` - API (–º–∏–∫—Ä–æ—Ñ–∏—á–∞ 3/4)
- `.BRAIN/02-gameplay/economy/player-market/player-market-analytics.md` - Analytics (–º–∏–∫—Ä–æ—Ñ–∏—á–∞ 4/4)

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **v1.0.0 (2025-11-07 06:10)** - –ú–∏–∫—Ä–æ—Ñ–∏—á–∞ 1/4: Player Market Core (split from economy-player-market.md)

