# Процедурная матрица снаряжения (оружие/импланты/экипировка)

**Статус:** draft  
**Версия:** 0.1.0  
**Дата создания:** 2025-11-03  
**Приоритет:** высокий

**api-readiness:** needs-work  
**api-readiness-check-date:** 2025-11-03  
**api-readiness-notes:** Приняты решения G1–G7, требуется схема данных, список характеристик по типам предметов и правила генерации.

---

## Цель

Сформировать каркас процедурной генерации предметов в стиле Borderlands: бренды/фракции + базовый каркас характеристик + аффиксы/моды + редкость/сид-генерация + связь с крафтом/рынком/имплантами.

## Решения высокого уровня (G1–G7)

1. **Бренды/фракционная привязка (G1):** Комбинация — лорные бренды как ядро, авторские расширяют, пользовательские через жёсткий модерационный пайплайн.

2. **Каркас характеристик (G2):** Комбинация — ядро статов + модульные расширения под тип предмета (оружие/броня/импланты/кибердеки и т.д.).

3. **Модификаторы/аффиксы (G3):** Комбинация — простые статы, сетовые/синергийные (бренд/фракция/класс), уникальные эффекты; уровни редкости влияют на силу/слоты.

4. **Редкость и генерация (G4):** Комбинация — фиксированные уровни редкости + взвешенная генерация (зоны/TTK/лига) + сиды для воспроизводимости.

5. **Крафт и реролл (G5):** Комбинация — дроп + крафт из компонентов + реролл/перековка с ограничениями (себестоимость, лицензии, риск ухудшения).

6. **Связь с имплантами/киберпсихозом (G6):** Комбинация — совместимость/штрафы, энергобюджет/перегрев, влияние на риск киберпсихоза.

7. **Экономика и рынки (G7):** Комбинация — рынки, аукцион/тендеры высоких редкостей, контракты на заказные сборки (бренд/аффиксы/требования).

---

## Каркас данных (черновик)

- ItemBase { id, type, brandId, rarity, seed, level, zoneTag }
- StatsCore { damage, rof, accuracy, recoil, weight, durability }
- StatsExtended { damageType, penetration, noise, heatGen, energyUse, hackResist, heatDissipation, implantCompat }
- Affix { id, kind: simple|set|unique, tags, values, conditions }
- Brand { id, name, factionId?, signatureBonuses, visualStyle }
- GenerationRules { rarityWeightsByZone, affixPoolsByType, constraints, seedPolicy }
- Crafting { recipeId, components, facilities, licenses, risks }

---

## Интеграции

- Фракции/бренды: `03-lore/factions/factions-overview.md`
- Локации/TTK/зоны: `03-lore/locations/locations-overview.md`, `02-gameplay/combat/*`
- Импланты/киберпсихоз: `02-gameplay/combat/combat-implants.md`
- Экономика/крафт/торговля: `02-gameplay/economy/economy-overview.md`, `economy-crafting.md`, `economy-trading.md`, `economy-monetization.md`

## TODO

- Уточнить пул базовых и расширенных характеристик по типам предметов
- Сформировать набор брендов (лорные/авторские) и их сигнатуры; прописать пайплайн пользовательских
- Описать генератор (веса, сиды, совместимость, ограничения)
- Определить контракты заказных сборок и лицензии на реролл

## История изменений

- v0.1.0 (2025-11-03) — создан каркас и зафиксированы решения G1–G7

